generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:../database.db"
}

model User {
  user_id            String @id
  user_name          String
  user_avatar        String
  user_token         String
  user_token_refresh String
  token              String
  token_key          String
  limit              Int    @default(100)

  @@index([user_id], name: "users_user_id")
  @@map("users")
}

model Validation {
  message_id String @id
  user_id    String

  @@index([message_id], name: "validations_message_id")
  @@map("validations")
}

// TODO: Passer Ã  PQSL pour ajouter une enum pour le type d'ajout
// Suggestion, Correction d'un suggestion, Correction d'une blague,

model Update {
  id            Int      @id @default(autoincrement())
  user_id       String
  message_id    String
  type          String
  joke_id       Int
  joke_type     String
  joke_question String
  joke_answer   String
  created_at    DateTime @default(now())

  @@map("updates")
}
